# Neatline
*This workshops presumes some familiarity with Omeka and skips over some important concepts in adding items to Omeka.*

*Materials used in the prior Omeka workshop and this Neatline workshop are available at [go.cal.msu.edu/2017omekaworkshop](http://go.cal.msu.edu/2017omekaworkshop)

## Preparing Neatline
1. Download the Neatline plugin [Click to download Neatline](https://drive.google.com/open?id=0B0-bI3TzTQ7eWGdZbTlWUnBLdW8)
2. Follow these [instructions to edit the config file](https://drive.google.com/open?id=1j9GrPE2XXPC7vUX3BRr4yMjTb1g1vYXmldB5p4fUX5w)
3. Log in to your Omeka site, click on 'Plugins' at the top, and click 'Install' on each of the Neatline plugins.

## What can you do with Neatline?
[Neatline](http://neatline.org/) is an exhibit-buiding framework that makes it possible to create beautiful, complex maps and connect them with timelines. Neatline is great for developing spatial and temporal narratives to illustrate how events unfolded over time and space. Neatline is built as a suite of plugins for the Omeka, a digital archive-building framework that supplies a powerful platform for content management and web publication.

### Examples
#### Undergraduate-developed Projects
- [The Life and Death of a Boom Town: Bodie, California, 1850-1950](http://projects.leadr.msu.edu/bodietimeline)
- [Boston Harbor Islands](http://omekasites.northeastern.edu/DeepMap/neatline/fullscreen/boston-harbor-islands)
- [Boston Marathon bombing memorial at Fenway Park](http://marathon.neu.edu/neatline/show/fenwayexhibit)
- [H.P. Lovecraft in Providence](http://lovecraft.neatline.org/neatline-exhibits/show/lovecraft-in-providence/fullscreen)

#### Reasearcher-developed Projects
- [Hotchkiss Maps the Battle of Fredericksburg for his Child](http://hotchkiss.neatline.org/neatline-exhibits/show/my-dear-little-nelly/fullscreen)
- ["Inventing the Map"](http://henshaw.neatline.org/)

The developers of Neatline have a list of additional [Neatline Demos](http://neatline.org/demos/) you can explore.
## Getting started with Neatline
Because Neatline is a plugin for Omeka, you'll need to start with an Omeka installation. If you registered for this workshop, you should have had one set up for you. If you're using an Omeka installation through Reclaim hosting, make sure you [follow these steps to activate Neatline on a Reclaim server](https://docs.google.com/document/d/1j9GrPE2XXPC7vUX3BRr4yMjTb1g1vYXmldB5p4fUX5w/edit).

If not, you can log into [projects.leadr.msu.edu/msudhneatline/](http://projects.leadr.msu.edu/msudhneatline/)
<!-- For this workshop, I've set up an Omeka/Neatline installation for everyone to use: [projects.leadr.msu.edu/msudh-neatline](http://projects.leadr.msu.edu/msudh-neatline/admin). -->

### Adding Content to Omeka
1. Log in to the Omeka account at your.url/admin
2. See below for a list of MSU buildings you can add as Omeka items.
2. Add an item in Omeka. Click on 'Items' on the left, then 'Add an Item.' Fill out the metadata in the 'Dublin Core' tab and make sure to upload at least one file in the 'Files' tag.
2. Repeat this so that you have at least 2 items in Omeka. (Buildings with both 'Built' and 'Demo' dates will work best)


| Bldg No. | Building Name                                 | Built | Demo | Location                                                                                          | Source                                                                      |
|----------|-----------------------------------------------|-------|------------|---------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| 1        | College Hall                                  | 1856  | 1918       | where Beaumont Tower now stands                                                                   | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 2        | Saints' Rest Dormitory                        | 1856  | 1876       | just east of the current MSU Museum building                                                      | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 3        | Faculty Row                                   | 1857  | 1947       | Cowles House remains, 6 demolishes homes were on the site of Landon, Yakeley, and Gilchrist Halls | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 4        | President's House                             | 1874  | 1946       | present site of Gilchrist Hall                                                                    | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 5        | Band Shell                                    | 1938  | 1960       | Ernst Bessey Hall and adjacent parking ramp                                                       | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 6        | Engineering Building                          | 1907  | 1916       | present site of Olds Hall                                                                         | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 7        | Olds Hall                                     | 1917  |            |                                                                                                   | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 8        | Livestock Judging Pavilion                    | 1938  | 1997       | parking lot on Shaw Road across from International Center                                         | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 9        | Wells Hall (3rd version)                      | 1968  |            |                                                                                                   | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 10       | Quonset Huts                                  | 1945  | 1950       | east side of Harrison Road                                                                        | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 11       | Paolucci Building/Home Management House       | 1947  | 2008       | Eli and Edyth Broad Art Museum                                                                    | [http://www.archives.msu.edu/collections/buildings.php](http://www.archives.msu.edu/collections/buildings.php)                       |
| 12       | Eli and Edyth Broad Art Museum                | 2012  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Eli_and_Edythe_Broad_Art_Museum](https://en.wikipedia.org/wiki/Eli_and_Edythe_Broad_Art_Museum)               |
| 13       | National Superconducting Cyclotron Laboratory | 1963  |            |                                                                                                   | [https://en.wikipedia.org/wiki/National_Superconducting_Cyclotron_Laboratory](https://en.wikipedia.org/wiki/National_Superconducting_Cyclotron_Laboratory) |
| 14       | Spartan Stadium                               | 1923  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Spartan_Stadium_(East_Lansing,_Michigan)](https://en.wikipedia.org/wiki/Spartan_Stadium_(East_Lansing,_Michigan))      |
| 15       | Breslin Student Events Center                 | 1989  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Breslin_Student_Events_Center](https://en.wikipedia.org/wiki/Breslin_Student_Events_Center)                 |
| 16       | Munn Ice Arena                                | 1974  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Munn_Ice_Arena](https://en.wikipedia.org/wiki/Munn_Ice_Arena)                                |
| 17       | Eustace-Cole Hall                             | 1888  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Munn_Ice_Arena](https://en.wikipedia.org/wiki/Munn_Ice_Arena)                                |
| 18       | Old Horticulture                              | 1924  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Laboratory_Row](https://en.wikipedia.org/wiki/Laboratory_Row)                                |
| 19       | Morrill Hall of Agriculture                   | 1909  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Laboratory_Row](https://en.wikipedia.org/wiki/Laboratory_Row)                                |
| 20       | Chittenden Hall                               | 1901  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Laboratory_Row](https://en.wikipedia.org/wiki/Laboratory_Row)                                |
| 21       | W.J. Beal Botanical Garden                    | 1873  |            |                                                                                                   | [https://en.wikipedia.org/wiki/W._J._Beal_Botanical_Garden](https://en.wikipedia.org/wiki/W._J._Beal_Botanical_Garden)                   |
| 22       | Demonstration Hall                            | 1928  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Demonstration_Hall](https://en.wikipedia.org/wiki/Demonstration_Hall)                            |
| 23       | The Rock                                      | 1873  | 1985       | next to Beaumont                                                                                  | [https://en.wikipedia.org/wiki/The_Rock_(Michigan_State_University)](https://en.wikipedia.org/wiki/The_Rock_(Michigan_State_University))          |
| 24       | The Rock                                      | 1985  |            |                                                                                                   | [https://en.wikipedia.org/wiki/The_Rock_(Michigan_State_University)](https://en.wikipedia.org/wiki/The_Rock_(Michigan_State_University))          |
| 25       | Wharton Center for Performing Arts            | 1982  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Wharton_Center_for_Performing_Arts](https://en.wikipedia.org/wiki/Wharton_Center_for_Performing_Arts)            |
| 26       | Student Union                                 | 1925  |            |                                                                                                   | [https://en.wikipedia.org/wiki/Student_Union_(Michigan_State_University)](https://en.wikipedia.org/wiki/Student_Union_(Michigan_State_University))     |


### Adding records to Neatline Exhibits
In Neatline, an exhibit is a single canvas (usually a map) that you can add images, texts, timelines, or illustrations to.

All content (images, text, etc.) added to the exhibit must be added as a 'Record'. Records can be tied to a map (as a point, a shape, or a line), a timeline, or both. A record can either be text added through the Neatline exhibit interface (or an image or video, using custom HTML), or reference an Omeka item.

1. There should be a 'Neatline' link on the left-hand side of the Omeka dashboard. Click on that to enter the Neatline editing dashboard.
2. Click on 'Create an Exhibit.'
3. Enter a title for your exhibit. We'll be looking at MSU buildings from the past and present, so "MSU History" may be a good name.
4. You don't need a narrative at this point, but you should add widgets. In the space, add SIMILE Timeline, Text, and Waypoints. These should autocomplete if they are installed.
5. You can leave the rest of the fields as default.

On the Neatline editor page, click 'New Record.' This will bring up a record editing bar on the left side of the page with four tabs: Text, Item, Map, Style. There are 'Save' buttons at the bottom of each tabbed page, and it's recommended that you use them often.

#### Tabs for adding records
##### Text
Here you can assign the record a Title and you have the option to add text (or customized HTML) to the record.

- Slug: A plain­text ID for the record, used to reference the record from TEI or HTML. Eg: war­and­peace This is not required - Neatline will generate its own slug.
- Title: A top­level, human­readable identifier. Used as a label for the record. Eg: "War and Peace"
- Body: The main content of the record. Could be a short blurb, a long­format essay, a video, etc. If you decide to add an item from Omeka, this will appear about the item information.

##### Item
This is where you can include an Omeka item as a record. You'll need to create it before you can use it in Neatline, but any later edits to the Omeka item will be reflected. Click in the 'Search Omeka items' box and start to type in the name of the item. It will return results as you type.

##### Map
Here you can add your record to the map as one or more points, lines, or polygons.

- Navigate - This allows you to 'grab' the map and move around. It effectively turns off all of the drawing tools.
- Draw Point - This will attach the record to one specific set of lat/lon coordinates. The point size and style can be edited in the 'Style' tab.
- Draw Line - This will allow you to create a line using multiple points. Add as many points as you'd like by clicking, then doubleclick on the final point to complete the line.
- Draw Polygon - This will create a closed shape in the location of your choosing. Click on a 'starting corner' and then continue clicking to fill out the shape you'd like. Doubleclick on your final point to complete the shape.
- Draw Regular Polygon - This automatically creates a polygon with a given number of sides. This is useful if you want to create consistently-shaped geometric primitives (triangles, squares, circles, etc.). Click down in the center of the desired location and, while still holding down on the mouse button, move the cursor in any direction away from the center point. As you drag the mouse, a polygon will be dynamically rendered on the map with a radius equal to the distance between the cursor and the center point. Rotate the cursor around the center point to change the orientation of the polygon. When the polygon is positioned correctly, release the mouse button to lock the shape in place.

Before you begin placing records on the map, you may want to set a default map location. The default window goes to [Null Island](https://en.wikipedia.org/wiki/Null_Island), but you can recenter it by clicking on the 'Styles' tab at the exhibit home page, moving the window to where you'd like it, and then clicking 'Use Current Viewport as Default'.


##### Style
- Tags: A string of comma­ delimited tags used to slice and dice the collection into related
subgroups.
- Widgets: Which of the "viewports" the record is visible in (timeline, waypoints browser,
etc).
- Presenter: Each record is assigned to a "presenter," which determines the mechanism by which the record's content is displayed (the "Title" and "Body" fields). Out of the box, Neatline comes with two simple presenters - the "Static Bubble," which displays the pop-up bubbles that appear when the cursor hovers or clicks on a record, and the "None" presenter, which, as you might guess, does nothing (this is useful for purely-visual annotations that don't need any kind of text content - arrows, brackets, etc).
- Fill Color: The color of polygons on the map. Also used as the default color in other
contexts.
- Fill Color (Selected): The color of map polygons when the record is highlighted or
selected.
- Stroke Color: The color of the lines running around the edges of polygons on the map.
- Stroke Color (Selected): The color of the lines when the record is highlighted or selected.
- Fill Opacity: The opacity (translucency) of the polygons on the map.
- Fill Opacity (Selected): The opacity of map polygons when the recors is highlighted or
selected.
- Stroke Opacity: The opacity of lines running around the edges of polygons on the map.
- Stroke Opacity (Selected): The lines opacity when the record is highlighted or selected.
- Stroke Width: The thickness, in pixels, of the lines around polygons.
- Point Radius: The size of individual points on the map.
- Z­Index: The "stacking" order of records when displayed on the map.
- Order / Weight: Used to determine the display order of a record in relation to other
records.
- Start Date: The beginning of the event that the record describes. This controls when it is used on the Timeline.
- End Date: The end of the event that the record describes. This controls when it is used on the Timeline.
- After Date: The date after which the record should be displayed in the exhibit. This controls when it appears on the map.
- Before Date: The date before which the record should be displayed in the exhibit. This controls when it appears on the map.
- Point Image: A web­accessible image used to display individual points on the map.
- WMS Address: The location of a WMS server (eg, an installation ofGeoserver).
- WMS Layers: A comma­delimited collection of layers (hosted on the WMS server) to be
overlayed on the map.
- Min Zoom: The map zoom level above which the record is visible (where zooming "in" is
"higher").
- Max Zoom: The map zoom level below which the record is visible.
- Default Focus: The lat/lon coordinates that the map zooms to when the record is
selected.
- Default Zoom: The zoom level that the map zooms to when the record is selected.


### Using the Timeline function

#### Activate SIMILE Timeline
*The timeline that appears at the bottom of the Neatline Viewer must be activated in the Omeka Plugins page (it is called 'Neatline Widget ~ SIMILE Timeline), and it should be added to the exhibit settings when the exhibit was created.*

#### Add record to the Timeline
To place a record on the timeline, go to the 'Style' tab for the record and add SIMILE Timeline to the Widgets field. The record's placement is dependent upon the record's 'Start Date' and 'End Date'.

An item's color on the timeline can be customized by adjusting the Fill and Stroke color options on the Style tab.

#### Customize the Timeline
At the Neatline dashboard, click on the 'Plugins' tab and then select SIMILE Timeline. You will have 5 fields for customization.

- Default Date: This sets the date that appears at the center of the timeline by default
- Interval Unit: Decide how large or small the intervals will be on the timeline - this can range between one second and a millenium
- Interval Pixels: Set the distance (on the screen) between the intervals on the timeline
- Track Height: Set the height of the space used to show the event's 'tape' and label on the timeline
- Tape Height: Set the height of an object on the timeline

### Using Waypoints
Waypoints are records that are displayed on the Neatline interface, and can be tied to the timeline and map if desired. Waypoints can be put into a specific order, making it possible to guide users through an exhibit in a linear sequence.

#### Activate Waypoints
*Waypoints must be activated in the Omeka Plugins page (it is called 'Neatline Widget ~ Waypoints), and it should be added to the exhibit settings when the exhibit was created.*

#### Add a record to Waypoints
To place a record on the timeline, go to the 'Style' tab for the record and add Waypoints to the Widgets field. The record you add (including spatial and timeline components, if added) will appear when the user clicks on the waypoint. You can also set a Default Focus and Default Zoom (near the bottom of the 'Style' tab) so that the map will move to the focus of your choosing.

#### Customize the Waypoints
You can edit the order that waypoints appear on your Neatline Exhibit. At the Neatline dashboard, click on the 'Plugins' tab and then select Waypoints. You can drag your Waypoints up and down as desired.

## Sources for this Guide
- [Tobias Hrynick, The Haskins Society](http://www.haskinssociety.org/omeka-neatline-1)
- [Alicia Peaker, Building Digital Exhibits in the Classroom with Omeka and Neatline](https://aliciapeaker.wordpress.com/2014/04/28/building-digital-exhibits/)
- [Wired! at Duke](http://dukewired.org/tutorialFiles/NeatlineManual.pdf)
